<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start"><ion-menu-button></ion-menu-button></ion-buttons>
    <ion-title class="ion-text-center">{{ userGreeting }}</ion-title>
    <ion-progress-bar *ngIf="!view" type="indeterminate"></ion-progress-bar>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="view" [fullscreen]="true">

  <!-- pre>{{ user | json }}</pre -->

  <ion-card>
    <img [alt]="user.displayName" [src]="user.photoURL" referrerpolicy="no-referrer" style="display: block; margin: auto;" />
    <ion-card-header>
      <ion-card-title>{{ user.displayName }}</ion-card-title>
      <ion-card-subtitle>{{ user.email }}</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <ul style="margin: 0; padding: 0 0 0 1rem;">
        <li>
          <strong>Cadastro: </strong>
          {{ user.metadata.creationTime | date: 'dd/MM/yyyy' }} às {{ user.metadata.creationTime | date: 'HH:mm' }}
        </li>
        <li>
          <strong>Último login: </strong>
          {{ user.metadata.lastSignInTime | date: 'dd/MM/yyyy' }} às {{ user.metadata.lastSignInTime | date: 'HH:mm' }}
        </li>
      </ul>
    </ion-card-content>
  </ion-card>

  <div class="ion-padding-start ion-padding-end">

    <p>Seu perfil é gerenciado pelo <strong>Google</strong>. Clique no botão abaixo para acessar seu perfil.</p>
    <p class="ion-text-center">
      <ion-button (click)="toGoogleProfile()">
        <ion-icon name="logo-google" slot="start"></ion-icon>
        Ver perfil no Google
      </ion-button>
    </p>

    <p>Clique no botão abaixo para sair do aplicativo neste dispositivo. Você precisará entrar novamente para ter acesso
      aos recursos restritor do <em>{{ env.appName }}</em>.</p>
    <p class="ion-text-center">
      <ion-button (click)="logout()" color="warning">
        <ion-icon name="log-out" slot="start"></ion-icon>
        Logout / Sair
      </ion-button>
    </p>

  </div>

</ion-content>